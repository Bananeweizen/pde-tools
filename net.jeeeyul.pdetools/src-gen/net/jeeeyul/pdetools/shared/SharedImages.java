/*******************************************************************************
 * Copyright (c) 2011, Tomato System and others.
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * which accompanies this distribution, and is available at
 * http://www.eclipse.org/legal/epl-v10.html
 *
 * This file was generated by pde-tools.
 *
 * pde-tools was developed as a part of eXERD by jeeeyul@gmail.com
 *
 * http://code.google.com/p/pde-tools
 * http://eclipse.or.kr
 * http://exerd.com
 * http://tomatosystem.co.kr
 *
 * Contributors:
 *     Tomato System - initial API and implementation
 *******************************************************************************/
 
package net.jeeeyul.pdetools.shared; 

import java.net.URL;
import java.util.HashMap;

import org.eclipse.core.runtime.Platform;
import org.eclipse.jface.resource.ImageDescriptor;
import org.eclipse.swt.graphics.Image;
import org.eclipse.ui.ISharedImages;
import org.eclipse.ui.PlatformUI;
public class SharedImages{
	/**
	 * <img src="data:image/gif;base64,R0lGODlhEAAQANUAADV2VDh6Vzh5Vzt+Wjx+WkCFXkSLYkWMY0WLYkWLY0WMYkqTZ0qTaE+abFCabFShcVWhcVShcFindVWicVyseV+we12seY20U420VJa5VZa5VqDAWKHAWKzHWqzHW63HWq3GWq3HW8XWYMbWYMXVYMbVYMXVYdDbY9riZdrhZeDlZv///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAACsALAAAAAAQABAAAAZbwJVwSCwaj0hhZVlJDisqVdO5oqRQFupKcpUgJxHI40Q+Pc4PokMkMpHapRG7QWSEQqAOKOT5+BdEBgkKChscGxsKCAcHSAUZGgVaBBgXA1oBlQJaAJ0AWqCgQQA7" align="middle" />
	 * Constant for "icons/add.gif" file.
	 */
	public static final String ADD = "icons/add.gif";

	private static HashMap<String, ImageDescriptor> descMap = new HashMap<String, ImageDescriptor>();
	private static HashMap<String, Image> imageMap = new HashMap<String, Image>();

	public static Image getImage(String key) {
		Image image = imageMap.get(key);
		if (image == null) {
			image = loadImage(key);
			ImageDescriptor descriptor = ImageDescriptor.createFromImage(image);
			descMap.put(key, descriptor);
			imageMap.put(key, image);
		}
		return image;
	}

	public static ImageDescriptor getImageDescriptor(String key) {
		ImageDescriptor descriptor = descMap.get(key);
		if (descriptor == null) {
			Image image = loadImage(key);
			descriptor = ImageDescriptor.createFromImage(image);
			descMap.put(key, descriptor);
			imageMap.put(key, image);
		}
		return descriptor;
	}

	private static Image loadImage(String key) {
		try {
			URL resource = Platform.getBundle("net.jeeeyul.pdetools").getResource(key);
			Image image = new Image(null, resource.openStream());
			return image;
		} catch (Exception e) {
			e.printStackTrace();
			return PlatformUI.getWorkbench().getSharedImages().getImage(ISharedImages.IMG_OBJS_ERROR_TSK);
		}
	}
}